<!DOCTYPE html><html class=''>
<head>
<meta charset='UTF-8'>
<meta name="robots" content="noindex">
<style >html, body{
  height:100%;
  width: 100%;
  margin: 0;
  left: 0;
  top: 0;
  font-family: 'Courier New'
}
pre{
  font-family: 'Courier New'
}
.ace_editor  {
  height : 100%;
}
</style>
<link rel="stylesheet" type="text/css" href="swal.css">
</head><body>

<html ng-app="x">

  <head>
    <meta charset="utf-8" />
  </head>
  <body ng-controller="mainctrl" >
  <div ng-keydown="keyDownFunc($event)" id="editableDiv">
  <!-- <pre>{{nattu | json}}</pre>dasfadsf -->
  <pre>{{data | json}}</pre>dasfadsf
  </div>



    <!-- Le vendor... -->
      <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.8/angular.min.js"></script>
      <script type="text/javascript" src="swal.js"></script>
  </body>
</html>

<script>var app = angular.module('x', []);
app.controller('mainctrl',['$scope', '$window', function($scope, $window){

swal('welcome to InstaJson','just paste the json and you will get a rest -- rest api','success')

  $scope.nattu1 = '{    "glossary": {        "title": "example glossary",    "GlossDiv": {            "title": "S",      "GlossList": {                "GlossEntry": {                    "ID": "SGML",          "SortAs": "SGML",          "GlossTerm": "Standard Generalized Markup Language",          "Acronym": "SGML",          "Abbrev": "ISO 8879:1986",          "GlossDef": {                        "para": "A meta-markup language, used to create markup languages such as DocBook.",            "GlossSeeAlso": ["GML", "XML"]                    },          "GlossSee": "markup"                }            }        }    }}';

  console.log($scope.nattu1)

$scope.parJson = function (json) {
   return angular.fromJson(json);
}
  $scope.nattu = JSON.parse($scope.nattu1)
  

function IsJsonString(str) {
    try {
        JSON.parse(str);
    } catch (e) {
        return false;
    }
    return true;
}


function handlePaste (e) {
    var clipboardData, pastedData;

    // Stop data actually being pasted into div
    e.stopPropagation();
    e.preventDefault();

    // Get pasted data via clipboard API
    clipboardData = e.clipboardData || window.clipboardData;
    pastedData = clipboardData.getData('Text');
    
    // Do whatever with pasteddata
    try{
    $scope.data = JSON.parse(pastedData)
    } catch(e){
      console.log('not a valid json')
      sweetAlert("Oops...", "not a valid json", "error");
    }

    console.log(IsJsonString($scope.data))

    $scope.$apply();
    console.log($scope.data)
}

document.getElementById('editableDiv').addEventListener('paste', handlePaste);

}])
</script>
</body></html>